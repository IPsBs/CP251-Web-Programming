<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" type="image/png" href="img/Pha.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <title>Hello, modularity!</title>
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-th-sarabun-new@1.0.0/css/th-sarabun-new.css" integrity="sha256-OTwtfeYI3jF4UNJkVbMwbNdOsnp4OLOqnDdbLOc8FUg=" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="../image/favicon.ico">
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lab7-1</title>
</head>
<style>
th,td {
  border : 1px solid black;
  border-collapse: collapse;
}
th,td {
  padding: 5px;
}
tr:nth-child(even){
    background-color: rgb(199, 159, 229);
}
tr:nth-child(odd){
    background-color: rgb(226, 235, 98);
}
</style>
<body>
    <h2>The XMLHttpRequest Object</h2>

    <button type="button" onclick="loadDoc()">Get my CD collection</button>
    <br><br>
    <table id="demo"></table>

    <script>
    function loadDoc() {
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function() {
            myFunction(this);
        }
        xhttp.open("GET", "cd_catalog.xml");
        xhttp.send();
    }
    function myFunction(xml) {
        const xmlDoc = xml.responseXML;
        const x = xmlDoc.getElementsByTagName("CD");
        let table="<tr><th>Artist</th><th>Title</th><th>Country</th><th>Company</th><th>Price</th><th>Year</th></tr>";
        for (let i = 0; i <x.length; i++) { 
            table += "<tr><td>" +
                x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue + 
                "</td><td>" +
                x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
                "</td><td>"+
                x[i].getElementsByTagName("COUNTRY")[0].childNodes[0].nodeValue +
                "</td><td>"+
                x[i].getElementsByTagName("COMPANY")[0].childNodes[0].nodeValue +
                "</td><td>"+
                x[i].getElementsByTagName("PRICE")[0].childNodes[0].nodeValue +
                "</td><td>"+
                x[i].getElementsByTagName("YEAR")[0].childNodes[0].nodeValue +
                "</td></tr>";
        }
        document.getElementById("demo").innerHTML = table;
    }
    </script>
</body>
</html>